<template>
  <div id="call-page" class="call-page">
    <div class="call-card">
      <div class="card-contacts mb-3">
        <div class="mb-2 small-regular card-call-with">Call With</div>
        <div class="h3-bold">Jimi Hendrix</div>
      </div>
      <div class="card-top-dates flex flex-col align-center">
        <div class="my-2 card-dates">
          <div class="card-calendar">
            <svg
              width="18"
              height="18"
              viewBox="0 0 18 18"
              fill="#3488fa"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                fill-rule="evenodd"
                clip-rule="evenodd"
                d="M14.25 8.25H3.75V5.25C3.75 4.83675 4.08675 4.5 4.5 4.5H5.25V5.25C5.25 5.6625 5.5875 6 6 6C6.4125 6 6.75 5.6625 6.75 5.25V4.5H11.25V5.25C11.25 5.6625 11.5875 6 12 6C12.4125 6 12.75 5.6625 12.75 5.25V4.5H13.5C13.9132 4.5 14.25 4.83675 14.25 5.25V8.25ZM12 12.75H9C8.5875 12.75 8.25 12.4125 8.25 12C8.25 11.5875 8.5875 11.25 9 11.25H12C12.4125 11.25 12.75 11.5875 12.75 12C12.75 12.4125 12.4125 12.75 12 12.75ZM6 12.75C5.5875 12.75 5.25 12.4125 5.25 12C5.25 11.5875 5.5875 11.25 6 11.25C6.4125 11.25 6.75 11.5875 6.75 12C6.75 12.4125 6.4125 12.75 6 12.75ZM13.5 3H12.75V2.25C12.75 1.8375 12.4125 1.5 12 1.5C11.5875 1.5 11.25 1.8375 11.25 2.25V3H6.75V2.25C6.75 1.8375 6.4125 1.5 6 1.5C5.5875 1.5 5.25 1.8375 5.25 2.25V3H4.5C3.2595 3 2.25 4.0095 2.25 5.25V14.25C2.25 15.4905 3.2595 16.5 4.5 16.5H13.5C14.7405 16.5 15.75 15.4905 15.75 14.25V5.25C15.75 4.0095 14.7405 3 13.5 3Z"
                fill="#3488fa"
              ></path>
              <mask
                id="mask0"
                mask-type="alpha"
                maskUnits="userSpaceOnUse"
                x="2"
                y="1"
                width="14"
                height="16"
              >
                <path
                  fill-rule="evenodd"
                  clip-rule="evenodd"
                  d="M14.25 8.25H3.75V5.25C3.75 4.83675 4.08675 4.5 4.5 4.5H5.25V5.25C5.25 5.6625 5.5875 6 6 6C6.4125 6 6.75 5.6625 6.75 5.25V4.5H11.25V5.25C11.25 5.6625 11.5875 6 12 6C12.4125 6 12.75 5.6625 12.75 5.25V4.5H13.5C13.9132 4.5 14.25 4.83675 14.25 5.25V8.25ZM12 12.75H9C8.5875 12.75 8.25 12.4125 8.25 12C8.25 11.5875 8.5875 11.25 9 11.25H12C12.4125 11.25 12.75 11.5875 12.75 12C12.75 12.4125 12.4125 12.75 12 12.75ZM6 12.75C5.5875 12.75 5.25 12.4125 5.25 12C5.25 11.5875 5.5875 11.25 6 11.25C6.4125 11.25 6.75 11.5875 6.75 12C6.75 12.4125 6.4125 12.75 6 12.75ZM13.5 3H12.75V2.25C12.75 1.8375 12.4125 1.5 12 1.5C11.5875 1.5 11.25 1.8375 11.25 2.25V3H6.75V2.25C6.75 1.8375 6.4125 1.5 6 1.5C5.5875 1.5 5.25 1.8375 5.25 2.25V3H4.5C3.2595 3 2.25 4.0095 2.25 5.25V14.25C2.25 15.4905 3.2595 16.5 4.5 16.5H13.5C14.7405 16.5 15.75 15.4905 15.75 14.25V5.25C15.75 4.0095 14.7405 3 13.5 3Z"
                  fill="#3488fa"
                ></path>
              </mask>
              <g mask="url(#mask0)"></g>
            </svg>
            
            <span class="mx-1 small-regular">7 Oct, Weds</span>
          </div>

          <div class="card-calendar">
            <svg
              width="18"
              height="18"
              viewBox="0 0 18 18"
              fill="#3488fa"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                fill-rule="evenodd"
                clip-rule="evenodd"
                d="M12 9.75H9C8.586 9.75 8.25 9.41475 8.25 9V6C8.25 5.58525 8.586 5.25 9 5.25C9.414 5.25 9.75 5.58525 9.75 6V8.25H12C12.4148 8.25 12.75 8.58525 12.75 9C12.75 9.41475 12.4148 9.75 12 9.75ZM9 1.5C4.8645 1.5 1.5 4.8645 1.5 9C1.5 13.1355 4.8645 16.5 9 16.5C13.1355 16.5 16.5 13.1355 16.5 9C16.5 4.8645 13.1355 1.5 9 1.5Z"
                fill="#3488fa"
              ></path>
              <mask
                id="mask0"
                mask-type="alpha"
                maskUnits="userSpaceOnUse"
                x="1"
                y="1"
                width="16"
                height="16"
              >
                <path
                  fill-rule="evenodd"
                  clip-rule="evenodd"
                  d="M12 9.75H9C8.586 9.75 8.25 9.41475 8.25 9V6C8.25 5.58525 8.586 5.25 9 5.25C9.414 5.25 9.75 5.58525 9.75 6V8.25H12C12.4148 8.25 12.75 8.58525 12.75 9C12.75 9.41475 12.4148 9.75 12 9.75ZM9 1.5C4.8645 1.5 1.5 4.8645 1.5 9C1.5 13.1355 4.8645 16.5 9 16.5C13.1355 16.5 16.5 13.1355 16.5 9C16.5 4.8645 13.1355 1.5 9 1.5Z"
                  fill="#3488fa"
                ></path>
              </mask>
              <g mask="url(#mask0)"></g>
            </svg>
            
            <span class="mx-1 small-regular">10:15AM - 10:30AM</span>
          </div>
        </div>
        <span class="small-regular card-timezone">Timezone: Europe/Londra</span>
      </div>

      <div class="card-video mt-3">
        <img
          class="card-video-player"
          src="https://static.independent.co.uk/2020/09/16/12/newFile.jpg?width=982&height=726"
          alt="superpeer video call"
        >

        <ul id="call-video-icons" class="d-flex">
          <li @click="isActiveMic = !isActiveMic">
            <button class="call-video-button">
              <div class="call-video-icon">
                <div v-show="isActiveMic" class="call-icon-closed"></div>
                <svg width="18" height="18" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path
                    fill-rule="evenodd"
                    clip-rule="evenodd"
                    d="M12 8.25c0 1.655-1.345 3-3 3-1.654 0-3-1.345-3-3V4.5c0-1.655 1.346-3 3-3 1.655 0 3 1.345 3 3v3.75zm1.5-.75a.75.75 0 01.75.75c0 2.64-1.96 4.824-4.5 5.19V15h1.579c.37 0 .671.302.671.671v.158c0 .37-.302.671-.671.671H6.67A.673.673 0 016 15.829v-.158c0-.37.301-.671.671-.671H8.25v-1.56c-2.54-.366-4.5-2.55-4.5-5.19a.75.75 0 111.5 0A3.754 3.754 0 009 12a3.754 3.754 0 003.75-3.75.75.75 0 01.75-.75z"
                    fill="currentColor"
                  ></path>
                  <mask id="a" maskUnits="userSpaceOnUse" x="3" y="1" width="12" height="16">
                    <path
                      fill-rule="evenodd"
                      clip-rule="evenodd"
                      d="M12 8.25c0 1.655-1.345 3-3 3-1.654 0-3-1.345-3-3V4.5c0-1.655 1.346-3 3-3 1.655 0 3 1.345 3 3v3.75zm1.5-.75a.75.75 0 01.75.75c0 2.64-1.96 4.824-4.5 5.19V15h1.579c.37 0 .671.302.671.671v.158c0 .37-.302.671-.671.671H6.67A.673.673 0 016 15.829v-.158c0-.37.301-.671.671-.671H8.25v-1.56c-2.54-.366-4.5-2.55-4.5-5.19a.75.75 0 111.5 0A3.754 3.754 0 009 12a3.754 3.754 0 003.75-3.75.75.75 0 01.75-.75z"
                      fill="#fff"
                    ></path>
                  </mask>
                </svg>
              </div>
            </button>
          </li>
          <li @click="isActiveCam = !isActiveCam">
            <button class="call-video-button">
              <div class="call-video-icon">
                <div v-show="isActiveCam" class="call-icon-closed"></div>
                <svg width="18" height="18" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path
                    fill-rule="evenodd"
                    clip-rule="evenodd"
                    d="M15.759 5.359a1.289 1.289 0 00-1.389.23l-1.62 1.5v-1.09c0-1.24-1.009-2.25-2.25-2.25H3.75C2.51 3.75 1.5 4.76 1.5 6v6c0 1.242 1.01 2.25 2.25 2.25h6.75A2.252 2.252 0 0012.75 12v-1.088l1.62 1.5a1.292 1.292 0 001.388.23c.457-.2.742-.627.742-1.113V6.472c0-.487-.285-.913-.741-1.113z"
                    fill="currentColor"
                  ></path>
                  <mask id="a" maskUnits="userSpaceOnUse" x="1" y="3" width="16" height="12">
                    <path
                      fill-rule="evenodd"
                      clip-rule="evenodd"
                      d="M15.759 5.359a1.289 1.289 0 00-1.389.23l-1.62 1.5v-1.09c0-1.24-1.009-2.25-2.25-2.25H3.75C2.51 3.75 1.5 4.76 1.5 6v6c0 1.242 1.01 2.25 2.25 2.25h6.75A2.252 2.252 0 0012.75 12v-1.088l1.62 1.5a1.292 1.292 0 001.388.23c.457-.2.742-.627.742-1.113V6.472c0-.487-.285-.913-.741-1.113z"
                      fill="#fff"
                    ></path>
                  </mask>
                </svg>
              </div>
            </button>
          </li>
          <li @click="isActiveSettings = !isActiveSettings">
            <button class="call-video-button">
              <div class="call-video-icon">
                <svg width="18" height="18" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path
                    fill-rule="evenodd"
                    clip-rule="evenodd"
                    d="M9 7.875c-.62 0-1.125.505-1.125 1.125S8.38 10.125 9 10.125 10.125 9.62 10.125 9 9.62 7.875 9 7.875zm0 3.75A2.628 2.628 0 016.375 9 2.628 2.628 0 019 6.375 2.628 2.628 0 0111.625 9 2.628 2.628 0 019 11.625zm7.419-3.886l-.59-1.89a1.724 1.724 0 00-.865-1.034 1.67 1.67 0 00-1.299-.099l-.255.085c-.402.135-.85.06-1.195-.198l-.08-.061a1.335 1.335 0 01-.52-1.072l.001-.209a1.759 1.759 0 00-.512-1.256 1.685 1.685 0 00-1.199-.503L7.995 1.5h-.003c-.94 0-1.708.781-1.712 1.744l-.001.181a1.433 1.433 0 01-.55 1.133l-.096.073a1.437 1.437 0 01-1.333.223 1.618 1.618 0 00-1.262.087c-.405.205-.705.56-.843 1l-.612 1.947a1.76 1.76 0 001.11 2.206l.123.042c.388.132.7.471.839.908l.041.126c.164.484.107.995-.173 1.393-.54.767-.376 1.849.367 2.412l1.554 1.18a1.674 1.674 0 001.277.325 1.7 1.7 0 001.133-.707l.173-.246c.25-.354.63-.564 1.071-.576.44-.024.86.205 1.123.583l.088.129c.27.389.672.643 1.132.718.457.072.912-.04 1.284-.321l1.545-1.167c.746-.562.917-1.648.381-2.422l-.195-.281a1.464 1.464 0 01-.194-1.24c.136-.458.475-.818.907-.964l.151-.05c.89-.298 1.383-1.283 1.099-2.197z"
                    fill="currentColor"
                  ></path>
                  <mask id="a" maskUnits="userSpaceOnUse" x="1" y="1" width="16" height="16">
                    <path
                      fill-rule="evenodd"
                      clip-rule="evenodd"
                      d="M9 7.875c-.62 0-1.125.505-1.125 1.125S8.38 10.125 9 10.125 10.125 9.62 10.125 9 9.62 7.875 9 7.875zm0 3.75A2.628 2.628 0 016.375 9 2.628 2.628 0 019 6.375 2.628 2.628 0 0111.625 9 2.628 2.628 0 019 11.625zm7.419-3.886l-.59-1.89a1.724 1.724 0 00-.865-1.034 1.67 1.67 0 00-1.299-.099l-.255.085c-.402.135-.85.06-1.195-.198l-.08-.061a1.335 1.335 0 01-.52-1.072l.001-.209a1.759 1.759 0 00-.512-1.256 1.685 1.685 0 00-1.199-.503L7.995 1.5h-.003c-.94 0-1.708.781-1.712 1.744l-.001.181a1.433 1.433 0 01-.55 1.133l-.096.073a1.437 1.437 0 01-1.333.223 1.618 1.618 0 00-1.262.087c-.405.205-.705.56-.843 1l-.612 1.947a1.76 1.76 0 001.11 2.206l.123.042c.388.132.7.471.839.908l.041.126c.164.484.107.995-.173 1.393-.54.767-.376 1.849.367 2.412l1.554 1.18a1.674 1.674 0 001.277.325 1.7 1.7 0 001.133-.707l.173-.246c.25-.354.63-.564 1.071-.576.44-.024.86.205 1.123.583l.088.129c.27.389.672.643 1.132.718.457.072.912-.04 1.284-.321l1.545-1.167c.746-.562.917-1.648.381-2.422l-.195-.281a1.464 1.464 0 01-.194-1.24c.136-.458.475-.818.907-.964l.151-.05c.89-.298 1.383-1.283 1.099-2.197z"
                      fill="#fff"
                    ></path>
                  </mask>
                </svg>
              </div>
            </button>
          </li>
        </ul>
      </div>

      <div class="my-3 card-member-name">
        <svg
          width="24"
          height="24"
          viewBox="0 0 24 24"
          fill="#3488fa"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            fill-rule="evenodd"
            clip-rule="evenodd"
            d="M19 20C19 20.552 18.553 21 18 21C17.447 21 17 20.552 17 20C17 17.243 14.757 15 12 15C9.243 15 7 17.243 7 20C7 20.552 6.553 21 6 21C5.447 21 5 20.552 5 20C5 16.14 8.141 13 12 13C15.859 13 19 16.14 19 20ZM12 5C13.103 5 14 5.897 14 7C14 8.103 13.103 9 12 9C10.897 9 10 8.103 10 7C10 5.897 10.897 5 12 5ZM12 11C14.206 11 16 9.206 16 7C16 4.794 14.206 3 12 3C9.794 3 8 4.794 8 7C8 9.206 9.794 11 12 11Z"
            fill="#3488fa"
          ></path>
        </svg>
        
        <span class="mx-1">Adem İlter</span>
      </div>
      <card-select class="my-1"></card-select>
      <card-select class="my-1"></card-select>
      <card-select class="my-1"></card-select>
      <div class="card-select my-1">
        <label for="camera-select">Sound Test</label>
        <div
          @click="isActiveSoundTest = !isActiveSoundTest"
          :class="[isActiveSoundTest ? 'btn-sound-test-active' : 'btn-sound-test']"
        >{{isActiveSoundTest ? 'Sound Is Playing' : 'Play Sound'}}</div>
      </div>
      <div class="mt-3 btn-call button-text">Join Call</div>
    </div>
    <div v-if="isActiveSettings" class="call-video-settings">
      <span class="title h3-bold">Settings</span>
    </div>
    <span v-if="isActiveSettings" @click="isActiveSettings = !isActiveSettings" class="vifsettings"></span>
  </div>
</template>

<script>
import cardSelect from "./CardSelect.vue";

export default {
  data() {
    return {
      isActiveMic: false,

      isActiveCam: false,
      isActiveSettings: false,
      isActiveSoundTest: false
    };
  },
  components: {
    cardSelect
  }
};
</script>

<style lang="scss" >
//variables

@import "../assets/scssvariables.scss";

.call-page {
  display: flex;
  justify-content: center;
  min-height: 100vh;
  align-items: center;
}

.call-card {
  display: flex;
  flex-direction: column;
  align-items: center;
  width: 384px;
  min-width: 300px;
  border-radius: $radius-2;
  background: $light;
  box-shadow: $shadow-1;
  padding: 32px 24px;
  position: absolute;
  top: 5%;
  margin-bottom: 5%;
}

.card-contacts {
  display: flex;
  flex-direction: column;
  width: 100%;
  justify-content: center;
  align-items: center;

  .card-call-with {
    color: $primary;
  }
}

.card-dates {
  display: flex;
  min-width: 300px;
  height: 48px;
  justify-content: space-between;
  border: $br-normal;
  align-items: center;
  border-radius: $radius-2;
  background-color: $light;
  padding: 0 21px;
}

.card-timezone {
  color: $grey-80;
}

.card-calendar {
  display: flex;
  align-items: center;
  height: 100%;
}

.card-video {
  position: relative;
  display: flex;
  max-width: 336px;
  height: 182px;
  border-radius: $radius-2;
  background-color: $grey-40;
  .card-video-player {
    object-fit: cover;
    border-radius: $radius-2;
    position: relative;
    max-width: 336px;
  }
  ul {
    position: absolute;
    left: 50%;
    z-index: 1120;
    bottom: 12px;
    display: flex;
    right: 50%;
    max-width: 336px;
    justify-content: center;
    * {
      cursor: pointer;
    }

    *:active {
      transform: scale(0.95);
    }

    li {
      list-style-type: none;
      margin: 0 12px;
      background-color: $grey-10;
      min-width: 48px;
      height: 48px;
      display: flex;
      align-items: center;
      justify-content: center;
      border-radius: 100%;
      border: $br-normal !important;
      button {
        border: none !important;
        outline: none !important;
        position: absolute;
        * {
          background-color: white !important;
        }
      }
      .call-icon-closed {
        width: 25px;
        height: 3px;
        background-color: rgb(218, 12, 12) !important;
        position: absolute;
        transform: rotate(20deg);
        top: 30%;
        right: 0%;
        left: -3.5px;
      }
    }

    li:hover {
      background-color: $grey-40 !important;
      box-shadow: $shadow-1;
      * {
        background-color: $grey-40 !important;
      }
    }
  }
}

.card-member-name {
  display: flex;
  width: 100%;
  height: 48px;
  border: $br-normal;
  align-items: center;
  border-radius: $radius-2;
  background-color: $light;
  padding: 0 21px;
}

.btn-call {
  display: flex;
  width: 100%;
  height: 48px;
  justify-content: center;
  align-items: center;
  border-radius: $radius-2;
  background-color: $primary;
  color: $light;
  cursor: pointer;
}

.btn-call:hover {
  opacity: 0.7;
}

.btn-sound-test {
  display: flex;
  width: 100%;
  height: 48px;
  border: $br-primary;
  justify-content: center;
  align-items: center;
  border-radius: $radius-2;
  background-color: $light;
  color: $primary;
  cursor: pointer;
}

.btn-sound-test-active {
  display: flex;
  width: 100%;
  height: 48px;
  border: $br-primary;
  justify-content: center;
  align-items: center;
  border-radius: $radius-2;
  color: $primary;
  cursor: pointer;
  background: rgb(235, 235, 235);
  background: radial-gradient(
    circle,
    rgb(206, 203, 203) 0%,
    rgba(201, 198, 198, 0.5) 25%,
    rgba(0, 212, 255, 0) 100%
  );
  background-repeat: no-repeat;
  background-position: center;
  animation: soundwaves 1.5s ease-in-out infinite;
}

@keyframes soundwaves {
  0% {
    background-size: 100px 100px;
  }
  50% {
    background-size: 500px 100px;
  }

  100% {
    background-size: 100px 100px;
  }
}

.btn-sound-test:hover {
  background-color: $grey-10;
}

.call-video-settings {
  max-width: 90%;
  width: 500px;
  background-color: $light;
  position: absolute;
  top: 5%;
  min-height: 700px;
  z-index: 9999;
  border-radius: $radius-1;
  display: flex;
  flex-direction: column;
  .title {
    display: flex;
    width: 100%;
    justify-content: center;
    height: 75px;
    align-items: center;
    border-bottom: $br-normal;
  }
}

.vifsettings {
  background-color: rgba(1, 1, 1, 0.5);
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  z-index: 9998;
}
</style>
